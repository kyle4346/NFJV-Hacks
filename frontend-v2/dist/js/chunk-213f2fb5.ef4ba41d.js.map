{"version":3,"sources":["webpack:///./src/views/SData.vue?b549","webpack:///src/views/SData.vue","webpack:///./src/views/SData.vue?62a1","webpack:///./src/views/SData.vue","webpack:///./node_modules/@flatfile/vuejs/dist/vuejs.umd.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","licenseKey","customer","settings","onData","_v","staticRenderFns","name","components","FlatfileButton","data","methods","console","log","results","component","root","factory","module","exports","self","modules","installedModules","__webpack_require__","moduleId","i","l","call","m","c","d","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","__WEBPACK_AMD_DEFINE_FACTORY__","__WEBPACK_AMD_DEFINE_ARRAY__","__WEBPACK_AMD_DEFINE_RESULT__","apply","undefined","getCurrentScript","descriptor","getOwnPropertyDescriptor","document","currentScript","Error","err","pageSource","inlineScriptSourceRegExp","inlineScriptSource","ieStackRegExp","ffStackRegExp","stackDetails","exec","stack","scriptLocation","line","currentLocation","location","href","replace","hash","scripts","getElementsByTagName","documentElement","outerHTML","RegExp","trim","length","readyState","src","innerHTML","g","Function","e","window","__webpack_exports__","global","commonjsGlobal","unwrapExports","x","createCommonjsModule","fn","finallyConstructor","callback","constructor","then","resolve","reason","reject","allSettled","arr","P","TypeError","args","Array","slice","remaining","res","val","status","setTimeoutFunc","setTimeout","isArray","Boolean","noop","thisArg","arguments","Promise","_state","_handled","_value","_deferreds","doResolve","handle","deferred","_immediateFn","cb","onFulfilled","onRejected","ret","promise","push","newValue","finale","_unhandledRejectionFn","len","Handler","done","ex","prom","all","race","setImmediate","warn","globalNS","contains","other","node","parentNode","registerDocumentContainsPolyfill","getPrototypeOf","extendStatics","b","setPrototypeOf","__proto__","__extends","String","__","__assign","assign","__awaiter","_arguments","generator","adopt","fulfilled","step","next","rejected","result","__generator","body","f","y","_","label","sent","trys","ops","verb","iterator","v","op","pop","eventemitter3","has","prefix","Events","EE","context","once","addListener","emitter","event","listener","evt","_events","_eventsCount","clearEvent","EventEmitter","eventNames","events","names","getOwnPropertySymbols","concat","listeners","handlers","ee","listenerCount","emit","a1","a2","a3","a4","a5","removeListener","j","on","removeAllListeners","off","prefixed","eventemitter3_1","loadedStates","whenDomReady","doc","indexOf","addEventListener","resume","containers","styleElements","usage","insertCss","css","options","styleElement","position","prepend","container","querySelector","containerId","createStyleElement","insertBefore","childNodes","appendChild","charCodeAt","substr","styleSheet","cssText","textContent","createElement","setAttribute","insertCss_1","insertCss_2","elementClass","opts","ElementClass","prop","nodeType","el","add","className","classes","split","join","remove","idx","splice","toggle","lib","default","ERR_IFRAME_ALREADY_ATTACHED_TO_DOM","ERR_NOT_IN_IFRAME","ERR_CONNECTION_TIMEOUT","ERR_CONNECTION_DESTROYED","HANDSHAKE","HANDSHAKE_REPLY","CALL","REPLY","FULFILLED","REJECTED","MESSAGE","DATA_CLONE_ERROR","CHECK_IFRAME_IN_DOC_INTERVAL","DEFAULT_PORTS","URL_REGEX","Penpal","debug","generateId","id","_console","_len","_key","getOriginFromUrl","url","protocol","hostname","port","regexResult","portSuffix","DestructionPromise","executor","forEach","handler","serializeError","_ref","message","deserializeError","obj","deserializedError","keys","connectCallSender","callSender","info","methodNames","destroy","destructionPromise","localName","local","remote","remoteOrigin","destroyed","createMethodProxy","methodName","_len2","_key2","closed","error","code","handleMessageEvent","source","origin","penpal","removeEventListener","returnValue","returnValueIsError","resolution","postMessage","reduce","api","connectCallReceiver","_event$data","createPromiseHandler","connectToChild","_ref2","appendTo","iframe","_ref2$methods","timeout","connectionDestructionPromise","resolveConnectionDestructionPromise","parent","childOrigin","resolveConnectionPromise","connectionTimeoutId","receiverMethodNames","destroyCallReceiver","handleMessage","child","contentWindow","callReceiverDestructionPromise","resolveCallReceiverDestructionPromise","receiverMethodName","clearTimeout","checkIframeInDocIntervalId","setInterval","clearInterval","removeChild","connectToParent","_ref3","_ref3$parentOrigin","parentOrigin","_ref3$methods","top","_default","Stats","meta","$meta","count_rows","configurable","count_rows_accepted","count_columns","count_columns_matched","EndUser","$user","userId","companyName","companyId","UploadFile","file","$file","filename","filesize","filetype","StreamedResults","$data","validData","filter","valid","deleted","map","Math","ceil","totalChunks","currentChunk","inChunks","pointer","chunkSize","hasMore","Results","importer","$importer","blobOnly","batchID","endUser","originalFile","csvFile","managed","manual","config","parsing_config","skipped_rows","headers_raw","headers_matched","custom_columns","category_field_map","failure_reason","submitted_at","failed_at","created_at","stylesheet","method","alt","nextChunk","_this","$ready","FlatfileImporter$1","_super","FlatfileImporter","apiKey","$fieldHooks","$stepHooks","uuid","$generateUuid","$resolver","$rejecter","initialize","setMountUrl","MOUNT_URL","setVersion","version","open","bulkInit","hasRecordHook","$recordHook","hasInteractionEventCallback","$interactionEventCallback","stepHooks","fieldHooks","field","getElementById","style","display","load","cleanup","loadRejectHandler","loadResolveHandler","rows","requestDataFromUser","expectsExpandedResults","responsePromise","displayLoader","msg","displayError","requestCorrectionsFromUser","corrections","displaySuccess","handleSuccess","setCustomer","setLanguage","lang","addVirtualField","registerRecordHook","registerNetworkErrorCallback","$networkErrorCallback","registerBeforeFetchCallback","$beforeFetchCallback","registerInteractionEventCallback","registerFieldHook","registerStepHook","close","handleClose","insertAdjacentHTML","handshake","complete","networkErrorCallback","beforeFetchCallback","req","interactionEventCallback","dataHookCallback","row","index","_a","bulkHookCallback","fieldHookCallback","values","fieldHook","find","stepHookCallback","payload","_b","ready","setUser","catch","random","toString","substring","match","launch","_t","browser","FlatfileButtonvue_type_script_lang_js_","props","type","validator","fields","onCancel","onInteractionEvent","onBeforeFetch","onRecordChange","onRecordInit","preload","mountUrl","flatfileImporter","loaded","importerLoaded","mounted","loadImporter","tempImporter","record","eventType","dataHandler","_this$onData","_this2","optionalMessage","_this2$flatfileImport","_this2$flatfileImport2","current","_this2$flatfileImport3","_this2$onCancel","_this3","validateInputs","_this3$onCancel","loadOptions","_this3$onCancel2","_this$customer","_this$settings","_this$settings2","isImporterLoaded","components_FlatfileButtonvue_type_script_lang_js_","normalizeComponent","scriptExports","functionalTemplate","injectStyles","scopeId","moduleIdentifier","shadowMode","hook","_compiled","functional","_scopeId","$vnode","ssrContext","__VUE_SSR_CONTEXT__","_registeredComponents","_ssrRegister","$root","$options","shadowRoot","_injectStyles","originalRender","h","existing","beforeCreate"],"mappings":"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","file":"js/chunk-213f2fb5.ef4ba41d.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('flatfile-button',{attrs:{\"licenseKey\":_vm.licenseKey,\"customer\":_vm.customer,\"settings\":_vm.settings,\"onData\":_vm.onData}},[_vm._v(\" Import Contacts \")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div id=\"app\">\r\n    <flatfile-button\r\n      :licenseKey=\"licenseKey\"\r\n      :customer=\"customer\"\r\n      :settings=\"settings\"\r\n      :onData=\"onData\">\r\n      Import Contacts\r\n    </flatfile-button>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { FlatfileButton } from '@flatfile/vuejs';\r\n\r\nexport default {\r\n  name: 'App',\r\n  components: {\r\n    FlatfileButton,\r\n  },\r\n  data: () => ({\r\n    licenseKey: 'd0ce60a3-e739-4c4d-8bab-a8df437c7d6a',\r\n    customer: {\r\n      userId: '12345',\r\n    },\r\n    settings: {\r\n      type: 'test import',\r\n      fields: [\r\n        { label: 'name', key: 'Name' },\r\n        { label: 'email', key: 'Email' }\r\n      ]\r\n    },\r\n  }),\r\n  methods: {\r\n    // *optional* shown here for demonstration purposes\r\n    onData: function (results) {\r\n      // Do something with the data here\r\n      console.log(results);\r\n      return \"Done!\";\r\n    }\r\n  },\r\n}\r\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SData.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SData.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SData.vue?vue&type=template&id=39852a10&\"\nimport script from \"./SData.vue?vue&type=script&lang=js&\"\nexport * from \"./SData.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"vuejs\"] = factory();\n\telse\n\t\troot[\"vuejs\"] = factory();\n})((typeof self !== 'undefined' ? self : this), function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// define __esModule on exports\n/******/ \t__webpack_require__.r = function(exports) {\n/******/ \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t}\n/******/ \t\tObject.defineProperty(exports, '__esModule', { value: true });\n/******/ \t};\n/******/\n/******/ \t// create a fake namespace object\n/******/ \t// mode & 1: value is a module id, require it\n/******/ \t// mode & 2: merge all properties of value into the ns\n/******/ \t// mode & 4: return value when already ns object\n/******/ \t// mode & 8|1: behave like require\n/******/ \t__webpack_require__.t = function(value, mode) {\n/******/ \t\tif(mode & 1) value = __webpack_require__(value);\n/******/ \t\tif(mode & 8) return value;\n/******/ \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n/******/ \t\tvar ns = Object.create(null);\n/******/ \t\t__webpack_require__.r(ns);\n/******/ \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n/******/ \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n/******/ \t\treturn ns;\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = \"fae3\");\n/******/ })\n/************************************************************************/\n/******/ ({\n\n/***/ \"8875\":\n/***/ (function(module, exports, __webpack_require__) {\n\nvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;// addapted from the document.currentScript polyfill by Adam Miller\n// MIT license\n// source: https://github.com/amiller-gh/currentScript-polyfill\n\n// added support for Firefox https://bugzilla.mozilla.org/show_bug.cgi?id=1620505\n\n(function (root, factory) {\n  if (true) {\n    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n  } else {}\n}(typeof self !== 'undefined' ? self : this, function () {\n  function getCurrentScript () {\n    var descriptor = Object.getOwnPropertyDescriptor(document, 'currentScript')\n    // for chrome\n    if (!descriptor && 'currentScript' in document && document.currentScript) {\n      return document.currentScript\n    }\n\n    // for other browsers with native support for currentScript\n    if (descriptor && descriptor.get !== getCurrentScript && document.currentScript) {\n      return document.currentScript\n    }\n  \n    // IE 8-10 support script readyState\n    // IE 11+ & Firefox support stack trace\n    try {\n      throw new Error();\n    }\n    catch (err) {\n      // Find the second match for the \"at\" string to get file src url from stack.\n      var ieStackRegExp = /.*at [^(]*\\((.*):(.+):(.+)\\)$/ig,\n        ffStackRegExp = /@([^@]*):(\\d+):(\\d+)\\s*$/ig,\n        stackDetails = ieStackRegExp.exec(err.stack) || ffStackRegExp.exec(err.stack),\n        scriptLocation = (stackDetails && stackDetails[1]) || false,\n        line = (stackDetails && stackDetails[2]) || false,\n        currentLocation = document.location.href.replace(document.location.hash, ''),\n        pageSource,\n        inlineScriptSourceRegExp,\n        inlineScriptSource,\n        scripts = document.getElementsByTagName('script'); // Live NodeList collection\n  \n      if (scriptLocation === currentLocation) {\n        pageSource = document.documentElement.outerHTML;\n        inlineScriptSourceRegExp = new RegExp('(?:[^\\\\n]+?\\\\n){0,' + (line - 2) + '}[^<]*<script>([\\\\d\\\\D]*?)<\\\\/script>[\\\\d\\\\D]*', 'i');\n        inlineScriptSource = pageSource.replace(inlineScriptSourceRegExp, '$1').trim();\n      }\n  \n      for (var i = 0; i < scripts.length; i++) {\n        // If ready state is interactive, return the script tag\n        if (scripts[i].readyState === 'interactive') {\n          return scripts[i];\n        }\n  \n        // If src matches, return the script tag\n        if (scripts[i].src === scriptLocation) {\n          return scripts[i];\n        }\n  \n        // If inline source matches, return the script tag\n        if (\n          scriptLocation === currentLocation &&\n          scripts[i].innerHTML &&\n          scripts[i].innerHTML.trim() === inlineScriptSource\n        ) {\n          return scripts[i];\n        }\n      }\n  \n      // If no match, return null\n      return null;\n    }\n  };\n\n  return getCurrentScript\n}));\n\n\n/***/ }),\n\n/***/ \"c8ba\":\n/***/ (function(module, exports) {\n\nvar g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n\n\n/***/ }),\n\n/***/ \"f2ae\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(global) {var commonjsGlobal = typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};\n\n\n\nfunction unwrapExports (x) {\n\treturn x && x.__esModule && Object.prototype.hasOwnProperty.call(x, 'default') ? x['default'] : x;\n}\n\nfunction createCommonjsModule(fn, module) {\n\treturn module = { exports: {} }, fn(module, module.exports), module.exports;\n}\n\nvar polyfill = createCommonjsModule(function (module, exports) {\n(function (global, factory) {\n\tfactory();\n}(commonjsGlobal, (function () { 'use strict';\n\n/**\n * @this {Promise}\n */\nfunction finallyConstructor(callback) {\n  var constructor = this.constructor;\n  return this.then(\n    function(value) {\n      // @ts-ignore\n      return constructor.resolve(callback()).then(function() {\n        return value;\n      });\n    },\n    function(reason) {\n      // @ts-ignore\n      return constructor.resolve(callback()).then(function() {\n        // @ts-ignore\n        return constructor.reject(reason);\n      });\n    }\n  );\n}\n\nfunction allSettled(arr) {\n  var P = this;\n  return new P(function(resolve, reject) {\n    if (!(arr && typeof arr.length !== 'undefined')) {\n      return reject(\n        new TypeError(\n          typeof arr +\n            ' ' +\n            arr +\n            ' is not iterable(cannot read property Symbol(Symbol.iterator))'\n        )\n      );\n    }\n    var args = Array.prototype.slice.call(arr);\n    if (args.length === 0) return resolve([]);\n    var remaining = args.length;\n\n    function res(i, val) {\n      if (val && (typeof val === 'object' || typeof val === 'function')) {\n        var then = val.then;\n        if (typeof then === 'function') {\n          then.call(\n            val,\n            function(val) {\n              res(i, val);\n            },\n            function(e) {\n              args[i] = { status: 'rejected', reason: e };\n              if (--remaining === 0) {\n                resolve(args);\n              }\n            }\n          );\n          return;\n        }\n      }\n      args[i] = { status: 'fulfilled', value: val };\n      if (--remaining === 0) {\n        resolve(args);\n      }\n    }\n\n    for (var i = 0; i < args.length; i++) {\n      res(i, args[i]);\n    }\n  });\n}\n\n// Store setTimeout reference so promise-polyfill will be unaffected by\n// other code modifying setTimeout (like sinon.useFakeTimers())\nvar setTimeoutFunc = setTimeout;\n\nfunction isArray(x) {\n  return Boolean(x && typeof x.length !== 'undefined');\n}\n\nfunction noop() {}\n\n// Polyfill for Function.prototype.bind\nfunction bind(fn, thisArg) {\n  return function() {\n    fn.apply(thisArg, arguments);\n  };\n}\n\n/**\n * @constructor\n * @param {Function} fn\n */\nfunction Promise(fn) {\n  if (!(this instanceof Promise))\n    throw new TypeError('Promises must be constructed via new');\n  if (typeof fn !== 'function') throw new TypeError('not a function');\n  /** @type {!number} */\n  this._state = 0;\n  /** @type {!boolean} */\n  this._handled = false;\n  /** @type {Promise|undefined} */\n  this._value = undefined;\n  /** @type {!Array<!Function>} */\n  this._deferreds = [];\n\n  doResolve(fn, this);\n}\n\nfunction handle(self, deferred) {\n  while (self._state === 3) {\n    self = self._value;\n  }\n  if (self._state === 0) {\n    self._deferreds.push(deferred);\n    return;\n  }\n  self._handled = true;\n  Promise._immediateFn(function() {\n    var cb = self._state === 1 ? deferred.onFulfilled : deferred.onRejected;\n    if (cb === null) {\n      (self._state === 1 ? resolve : reject)(deferred.promise, self._value);\n      return;\n    }\n    var ret;\n    try {\n      ret = cb(self._value);\n    } catch (e) {\n      reject(deferred.promise, e);\n      return;\n    }\n    resolve(deferred.promise, ret);\n  });\n}\n\nfunction resolve(self, newValue) {\n  try {\n    // Promise Resolution Procedure: https://github.com/promises-aplus/promises-spec#the-promise-resolution-procedure\n    if (newValue === self)\n      throw new TypeError('A promise cannot be resolved with itself.');\n    if (\n      newValue &&\n      (typeof newValue === 'object' || typeof newValue === 'function')\n    ) {\n      var then = newValue.then;\n      if (newValue instanceof Promise) {\n        self._state = 3;\n        self._value = newValue;\n        finale(self);\n        return;\n      } else if (typeof then === 'function') {\n        doResolve(bind(then, newValue), self);\n        return;\n      }\n    }\n    self._state = 1;\n    self._value = newValue;\n    finale(self);\n  } catch (e) {\n    reject(self, e);\n  }\n}\n\nfunction reject(self, newValue) {\n  self._state = 2;\n  self._value = newValue;\n  finale(self);\n}\n\nfunction finale(self) {\n  if (self._state === 2 && self._deferreds.length === 0) {\n    Promise._immediateFn(function() {\n      if (!self._handled) {\n        Promise._unhandledRejectionFn(self._value);\n      }\n    });\n  }\n\n  for (var i = 0, len = self._deferreds.length; i < len; i++) {\n    handle(self, self._deferreds[i]);\n  }\n  self._deferreds = null;\n}\n\n/**\n * @constructor\n */\nfunction Handler(onFulfilled, onRejected, promise) {\n  this.onFulfilled = typeof onFulfilled === 'function' ? onFulfilled : null;\n  this.onRejected = typeof onRejected === 'function' ? onRejected : null;\n  this.promise = promise;\n}\n\n/**\n * Take a potentially misbehaving resolver function and make sure\n * onFulfilled and onRejected are only called once.\n *\n * Makes no guarantees about asynchrony.\n */\nfunction doResolve(fn, self) {\n  var done = false;\n  try {\n    fn(\n      function(value) {\n        if (done) return;\n        done = true;\n        resolve(self, value);\n      },\n      function(reason) {\n        if (done) return;\n        done = true;\n        reject(self, reason);\n      }\n    );\n  } catch (ex) {\n    if (done) return;\n    done = true;\n    reject(self, ex);\n  }\n}\n\nPromise.prototype['catch'] = function(onRejected) {\n  return this.then(null, onRejected);\n};\n\nPromise.prototype.then = function(onFulfilled, onRejected) {\n  // @ts-ignore\n  var prom = new this.constructor(noop);\n\n  handle(this, new Handler(onFulfilled, onRejected, prom));\n  return prom;\n};\n\nPromise.prototype['finally'] = finallyConstructor;\n\nPromise.all = function(arr) {\n  return new Promise(function(resolve, reject) {\n    if (!isArray(arr)) {\n      return reject(new TypeError('Promise.all accepts an array'));\n    }\n\n    var args = Array.prototype.slice.call(arr);\n    if (args.length === 0) return resolve([]);\n    var remaining = args.length;\n\n    function res(i, val) {\n      try {\n        if (val && (typeof val === 'object' || typeof val === 'function')) {\n          var then = val.then;\n          if (typeof then === 'function') {\n            then.call(\n              val,\n              function(val) {\n                res(i, val);\n              },\n              reject\n            );\n            return;\n          }\n        }\n        args[i] = val;\n        if (--remaining === 0) {\n          resolve(args);\n        }\n      } catch (ex) {\n        reject(ex);\n      }\n    }\n\n    for (var i = 0; i < args.length; i++) {\n      res(i, args[i]);\n    }\n  });\n};\n\nPromise.allSettled = allSettled;\n\nPromise.resolve = function(value) {\n  if (value && typeof value === 'object' && value.constructor === Promise) {\n    return value;\n  }\n\n  return new Promise(function(resolve) {\n    resolve(value);\n  });\n};\n\nPromise.reject = function(value) {\n  return new Promise(function(resolve, reject) {\n    reject(value);\n  });\n};\n\nPromise.race = function(arr) {\n  return new Promise(function(resolve, reject) {\n    if (!isArray(arr)) {\n      return reject(new TypeError('Promise.race accepts an array'));\n    }\n\n    for (var i = 0, len = arr.length; i < len; i++) {\n      Promise.resolve(arr[i]).then(resolve, reject);\n    }\n  });\n};\n\n// Use polyfill for setImmediate for performance gains\nPromise._immediateFn =\n  // @ts-ignore\n  (typeof setImmediate === 'function' &&\n    function(fn) {\n      // @ts-ignore\n      setImmediate(fn);\n    }) ||\n  function(fn) {\n    setTimeoutFunc(fn, 0);\n  };\n\nPromise._unhandledRejectionFn = function _unhandledRejectionFn(err) {\n  if (typeof console !== 'undefined' && console) {\n    console.warn('Possible Unhandled Promise Rejection:', err); // eslint-disable-line no-console\n  }\n};\n\n/** @suppress {undefinedVars} */\nvar globalNS = (function() {\n  // the only reliable means to get the global object is\n  // `Function('return this')()`\n  // However, this causes CSP violations in Chrome apps.\n  if (typeof self !== 'undefined') {\n    return self;\n  }\n  if (typeof window !== 'undefined') {\n    return window;\n  }\n  if (typeof commonjsGlobal !== 'undefined') {\n    return commonjsGlobal;\n  }\n  throw new Error('unable to locate global object');\n})();\n\n// Expose the polyfill if Promise is undefined or set to a\n// non-function value. The latter can be due to a named HTMLElement\n// being exposed by browsers for legacy reasons.\n// https://github.com/taylorhakes/promise-polyfill/issues/114\nif (typeof globalNS['Promise'] !== 'function') {\n  globalNS['Promise'] = Promise;\n} else if (!globalNS.Promise.prototype['finally']) {\n  globalNS.Promise.prototype['finally'] = finallyConstructor;\n} else if (!globalNS.Promise.allSettled) {\n  globalNS.Promise.allSettled = allSettled;\n}\n\n})));\n});\n\nvar contains = function (other) {\n    if (arguments.length < 1) {\n        throw new TypeError('1 argument is required');\n    }\n    if (typeof other !== 'object') {\n        throw new TypeError('Argument 1 (other) to Node.contains must be an instance of Node');\n    }\n    var node = other;\n    do {\n        if (this === node) {\n            return true;\n        }\n        if (node) {\n            node = node.parentNode;\n        }\n    } while (node);\n    return false;\n};\nfunction registerDocumentContainsPolyfill() {\n    // tslint:disable-next-line\n    if (typeof document === 'object' && typeof document.contains !== 'function') {\n        Object.getPrototypeOf(document).contains = contains;\n    }\n}\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nfunction __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nfunction __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nfunction __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n/** @deprecated */\r\n\r\n\r\n/** @deprecated */\n\nvar eventemitter3 = createCommonjsModule(function (module) {\n'use strict';\n\nvar has = Object.prototype.hasOwnProperty\n  , prefix = '~';\n\n/**\n * Constructor to create a storage for our `EE` objects.\n * An `Events` instance is a plain object whose properties are event names.\n *\n * @constructor\n * @private\n */\nfunction Events() {}\n\n//\n// We try to not inherit from `Object.prototype`. In some engines creating an\n// instance in this way is faster than calling `Object.create(null)` directly.\n// If `Object.create(null)` is not supported we prefix the event names with a\n// character to make sure that the built-in object properties are not\n// overridden or used as an attack vector.\n//\nif (Object.create) {\n  Events.prototype = Object.create(null);\n\n  //\n  // This hack is needed because the `__proto__` property is still inherited in\n  // some old browsers like Android 4, iPhone 5.1, Opera 11 and Safari 5.\n  //\n  if (!new Events().__proto__) prefix = false;\n}\n\n/**\n * Representation of a single event listener.\n *\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} [once=false] Specify if the listener is a one-time listener.\n * @constructor\n * @private\n */\nfunction EE(fn, context, once) {\n  this.fn = fn;\n  this.context = context;\n  this.once = once || false;\n}\n\n/**\n * Add a listener for a given event.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} once Specify if the listener is a one-time listener.\n * @returns {EventEmitter}\n * @private\n */\nfunction addListener(emitter, event, fn, context, once) {\n  if (typeof fn !== 'function') {\n    throw new TypeError('The listener must be a function');\n  }\n\n  var listener = new EE(fn, context || emitter, once)\n    , evt = prefix ? prefix + event : event;\n\n  if (!emitter._events[evt]) emitter._events[evt] = listener, emitter._eventsCount++;\n  else if (!emitter._events[evt].fn) emitter._events[evt].push(listener);\n  else emitter._events[evt] = [emitter._events[evt], listener];\n\n  return emitter;\n}\n\n/**\n * Clear event by name.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} evt The Event name.\n * @private\n */\nfunction clearEvent(emitter, evt) {\n  if (--emitter._eventsCount === 0) emitter._events = new Events();\n  else delete emitter._events[evt];\n}\n\n/**\n * Minimal `EventEmitter` interface that is molded against the Node.js\n * `EventEmitter` interface.\n *\n * @constructor\n * @public\n */\nfunction EventEmitter() {\n  this._events = new Events();\n  this._eventsCount = 0;\n}\n\n/**\n * Return an array listing the events for which the emitter has registered\n * listeners.\n *\n * @returns {Array}\n * @public\n */\nEventEmitter.prototype.eventNames = function eventNames() {\n  var names = []\n    , events\n    , name;\n\n  if (this._eventsCount === 0) return names;\n\n  for (name in (events = this._events)) {\n    if (has.call(events, name)) names.push(prefix ? name.slice(1) : name);\n  }\n\n  if (Object.getOwnPropertySymbols) {\n    return names.concat(Object.getOwnPropertySymbols(events));\n  }\n\n  return names;\n};\n\n/**\n * Return the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Array} The registered listeners.\n * @public\n */\nEventEmitter.prototype.listeners = function listeners(event) {\n  var evt = prefix ? prefix + event : event\n    , handlers = this._events[evt];\n\n  if (!handlers) return [];\n  if (handlers.fn) return [handlers.fn];\n\n  for (var i = 0, l = handlers.length, ee = new Array(l); i < l; i++) {\n    ee[i] = handlers[i].fn;\n  }\n\n  return ee;\n};\n\n/**\n * Return the number of listeners listening to a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Number} The number of listeners.\n * @public\n */\nEventEmitter.prototype.listenerCount = function listenerCount(event) {\n  var evt = prefix ? prefix + event : event\n    , listeners = this._events[evt];\n\n  if (!listeners) return 0;\n  if (listeners.fn) return 1;\n  return listeners.length;\n};\n\n/**\n * Calls each of the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Boolean} `true` if the event had listeners, else `false`.\n * @public\n */\nEventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return false;\n\n  var listeners = this._events[evt]\n    , len = arguments.length\n    , args\n    , i;\n\n  if (listeners.fn) {\n    if (listeners.once) this.removeListener(event, listeners.fn, undefined, true);\n\n    switch (len) {\n      case 1: return listeners.fn.call(listeners.context), true;\n      case 2: return listeners.fn.call(listeners.context, a1), true;\n      case 3: return listeners.fn.call(listeners.context, a1, a2), true;\n      case 4: return listeners.fn.call(listeners.context, a1, a2, a3), true;\n      case 5: return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;\n      case 6: return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;\n    }\n\n    for (i = 1, args = new Array(len -1); i < len; i++) {\n      args[i - 1] = arguments[i];\n    }\n\n    listeners.fn.apply(listeners.context, args);\n  } else {\n    var length = listeners.length\n      , j;\n\n    for (i = 0; i < length; i++) {\n      if (listeners[i].once) this.removeListener(event, listeners[i].fn, undefined, true);\n\n      switch (len) {\n        case 1: listeners[i].fn.call(listeners[i].context); break;\n        case 2: listeners[i].fn.call(listeners[i].context, a1); break;\n        case 3: listeners[i].fn.call(listeners[i].context, a1, a2); break;\n        case 4: listeners[i].fn.call(listeners[i].context, a1, a2, a3); break;\n        default:\n          if (!args) for (j = 1, args = new Array(len -1); j < len; j++) {\n            args[j - 1] = arguments[j];\n          }\n\n          listeners[i].fn.apply(listeners[i].context, args);\n      }\n    }\n  }\n\n  return true;\n};\n\n/**\n * Add a listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.on = function on(event, fn, context) {\n  return addListener(this, event, fn, context, false);\n};\n\n/**\n * Add a one-time listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.once = function once(event, fn, context) {\n  return addListener(this, event, fn, context, true);\n};\n\n/**\n * Remove the listeners of a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn Only remove the listeners that match this function.\n * @param {*} context Only remove the listeners that have this context.\n * @param {Boolean} once Only remove one-time listeners.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return this;\n  if (!fn) {\n    clearEvent(this, evt);\n    return this;\n  }\n\n  var listeners = this._events[evt];\n\n  if (listeners.fn) {\n    if (\n      listeners.fn === fn &&\n      (!once || listeners.once) &&\n      (!context || listeners.context === context)\n    ) {\n      clearEvent(this, evt);\n    }\n  } else {\n    for (var i = 0, events = [], length = listeners.length; i < length; i++) {\n      if (\n        listeners[i].fn !== fn ||\n        (once && !listeners[i].once) ||\n        (context && listeners[i].context !== context)\n      ) {\n        events.push(listeners[i]);\n      }\n    }\n\n    //\n    // Reset the array, or remove it completely if we have no more listeners.\n    //\n    if (events.length) this._events[evt] = events.length === 1 ? events[0] : events;\n    else clearEvent(this, evt);\n  }\n\n  return this;\n};\n\n/**\n * Remove all listeners, or those of the specified event.\n *\n * @param {(String|Symbol)} [event] The event name.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {\n  var evt;\n\n  if (event) {\n    evt = prefix ? prefix + event : event;\n    if (this._events[evt]) clearEvent(this, evt);\n  } else {\n    this._events = new Events();\n    this._eventsCount = 0;\n  }\n\n  return this;\n};\n\n//\n// Alias methods names because people roll like that.\n//\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\nEventEmitter.prototype.addListener = EventEmitter.prototype.on;\n\n//\n// Expose the prefix.\n//\nEventEmitter.prefixed = prefix;\n\n//\n// Allow `EventEmitter` to be imported as module namespace.\n//\nEventEmitter.EventEmitter = EventEmitter;\n\n//\n// Expose the module.\n//\n{\n  module.exports = EventEmitter;\n}\n});\n\nvar eventemitter3_1 = eventemitter3.EventEmitter;\n\n/* eslint no-void: \"off\" */\n\n// Loaded ready states\nvar loadedStates = ['interactive', 'complete'];\n\n// Return Promise\nvar whenDomReady = function whenDomReady(cb, doc) {\n\treturn new Promise(function (resolve) {\n\t\t// Allow doc to be passed in as the lone first param\n\t\tif (cb && typeof cb !== 'function') {\n\t\t\tdoc = cb;\n\t\t\tcb = null;\n\t\t}\n\n\t\t// Use global document if we don't have one\n\t\tdoc = doc || window.document;\n\n\t\t// Handle DOM load\n\t\tvar done = function done() {\n\t\t\treturn resolve(void (cb && setTimeout(cb)));\n\t\t};\n\n\t\t// Resolve now if DOM has already loaded\n\t\t// Otherwise wait for DOMContentLoaded\n\t\tif (loadedStates.indexOf(doc.readyState) !== -1) {\n\t\t\tdone();\n\t\t} else {\n\t\t\tdoc.addEventListener('DOMContentLoaded', done);\n\t\t}\n\t});\n};\n\n// Promise chain helper\nwhenDomReady.resume = function (doc) {\n\treturn function (val) {\n\t\treturn whenDomReady(doc).then(function () {\n\t\t\treturn val;\n\t\t});\n\t};\n};\n\nvar containers = []; // will store container HTMLElement references\nvar styleElements = []; // will store {prepend: HTMLElement, append: HTMLElement}\n\nvar usage = 'insert-css: You need to provide a CSS string. Usage: insertCss(cssString[, options]).';\n\nfunction insertCss(css, options) {\n    options = options || {};\n\n    if (css === undefined) {\n        throw new Error(usage);\n    }\n\n    var position = options.prepend === true ? 'prepend' : 'append';\n    var container = options.container !== undefined ? options.container : document.querySelector('head');\n    var containerId = containers.indexOf(container);\n\n    // first time we see this container, create the necessary entries\n    if (containerId === -1) {\n        containerId = containers.push(container) - 1;\n        styleElements[containerId] = {};\n    }\n\n    // try to get the correponding container + position styleElement, create it otherwise\n    var styleElement;\n\n    if (styleElements[containerId] !== undefined && styleElements[containerId][position] !== undefined) {\n        styleElement = styleElements[containerId][position];\n    } else {\n        styleElement = styleElements[containerId][position] = createStyleElement();\n\n        if (position === 'prepend') {\n            container.insertBefore(styleElement, container.childNodes[0]);\n        } else {\n            container.appendChild(styleElement);\n        }\n    }\n\n    // strip potential UTF-8 BOM if css was read from a file\n    if (css.charCodeAt(0) === 0xFEFF) { css = css.substr(1, css.length); }\n\n    // actually add the stylesheet\n    if (styleElement.styleSheet) {\n        styleElement.styleSheet.cssText += css;\n    } else {\n        styleElement.textContent += css;\n    }\n\n    return styleElement;\n}\n\nfunction createStyleElement() {\n    var styleElement = document.createElement('style');\n    styleElement.setAttribute('type', 'text/css');\n    return styleElement;\n}\n\nvar insertCss_1 = insertCss;\nvar insertCss_2 = insertCss;\n\ninsertCss_1.insertCss = insertCss_2;\n\nvar elementClass = function(opts) {\n  return new ElementClass(opts)\n};\n\nfunction indexOf(arr, prop) {\n  if (arr.indexOf) return arr.indexOf(prop)\n  for (var i = 0, len = arr.length; i < len; i++)\n    if (arr[i] === prop) return i\n  return -1\n}\n\nfunction ElementClass(opts) {\n  if (!(this instanceof ElementClass)) return new ElementClass(opts)\n  var self = this;\n  if (!opts) opts = {};\n\n  // similar doing instanceof HTMLElement but works in IE8\n  if (opts.nodeType) opts = {el: opts};\n\n  this.opts = opts;\n  this.el = opts.el || document.body;\n  if (typeof this.el !== 'object') this.el = document.querySelector(this.el);\n}\n\nElementClass.prototype.add = function(className) {\n  var el = this.el;\n  if (!el) return\n  if (el.className === \"\") return el.className = className\n  var classes = el.className.split(' ');\n  if (indexOf(classes, className) > -1) return classes\n  classes.push(className);\n  el.className = classes.join(' ');\n  return classes\n};\n\nElementClass.prototype.remove = function(className) {\n  var el = this.el;\n  if (!el) return\n  if (el.className === \"\") return\n  var classes = el.className.split(' ');\n  var idx = indexOf(classes, className);\n  if (idx > -1) classes.splice(idx, 1);\n  el.className = classes.join(' ');\n  return classes\n};\n\nElementClass.prototype.has = function(className) {\n  var el = this.el;\n  if (!el) return\n  var classes = el.className.split(' ');\n  return indexOf(classes, className) > -1\n};\n\nElementClass.prototype.toggle = function(className) {\n  var el = this.el;\n  if (!el) return\n  if (this.has(className)) this.remove(className);\n  else this.add(className);\n};\n\nvar lib = createCommonjsModule(function (module, exports) {\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.ERR_IFRAME_ALREADY_ATTACHED_TO_DOM = exports.ERR_NOT_IN_IFRAME = exports.ERR_CONNECTION_TIMEOUT = exports.ERR_CONNECTION_DESTROYED = void 0;\nvar HANDSHAKE = 'handshake';\nvar HANDSHAKE_REPLY = 'handshake-reply';\nvar CALL = 'call';\nvar REPLY = 'reply';\nvar FULFILLED = 'fulfilled';\nvar REJECTED = 'rejected';\nvar MESSAGE = 'message';\nvar DATA_CLONE_ERROR = 'DataCloneError';\nvar ERR_CONNECTION_DESTROYED = 'ConnectionDestroyed';\nexports.ERR_CONNECTION_DESTROYED = ERR_CONNECTION_DESTROYED;\nvar ERR_CONNECTION_TIMEOUT = 'ConnectionTimeout';\nexports.ERR_CONNECTION_TIMEOUT = ERR_CONNECTION_TIMEOUT;\nvar ERR_NOT_IN_IFRAME = 'NotInIframe';\nexports.ERR_NOT_IN_IFRAME = ERR_NOT_IN_IFRAME;\nvar ERR_IFRAME_ALREADY_ATTACHED_TO_DOM = 'IframeAlreadyAttachedToDom';\nexports.ERR_IFRAME_ALREADY_ATTACHED_TO_DOM = ERR_IFRAME_ALREADY_ATTACHED_TO_DOM;\nvar CHECK_IFRAME_IN_DOC_INTERVAL = 60000;\nvar DEFAULT_PORTS = {\n  'http:': '80',\n  'https:': '443'\n};\nvar URL_REGEX = /^(https?:|file:)?\\/\\/([^/:]+)?(:(\\d+))?/;\nvar Penpal = {\n  ERR_CONNECTION_DESTROYED: ERR_CONNECTION_DESTROYED,\n  ERR_CONNECTION_TIMEOUT: ERR_CONNECTION_TIMEOUT,\n  ERR_NOT_IN_IFRAME: ERR_NOT_IN_IFRAME,\n  ERR_IFRAME_ALREADY_ATTACHED_TO_DOM: ERR_IFRAME_ALREADY_ATTACHED_TO_DOM,\n\n  /**\n   * Promise implementation.\n   * @type {Constructor}\n   */\n  Promise: function () {\n    try {\n      return window ? window.Promise : null;\n    } catch (e) {\n      return null;\n    }\n  }(),\n\n  /**\n   * Whether debug messages should be logged.\n   * @type {boolean}\n   */\n  debug: false\n};\n/**\n * @return {number} A unique ID (not universally unique)\n */\n\nvar generateId = function () {\n  var id = 0;\n  return function () {\n    return ++id;\n  };\n}();\n/**\n * Logs a message.\n * @param {...*} args One or more items to log\n */\n\n\nvar log = function log() {\n  if (Penpal.debug) {\n    var _console;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    (_console = console).log.apply(_console, ['[Penpal]'].concat(args)); // eslint-disable-line no-console\n\n  }\n};\n/**\n * Converts a URL into an origin.\n * @param {string} url\n * @return {string} The URL's origin\n */\n\n\nvar getOriginFromUrl = function getOriginFromUrl(url) {\n  var location = document.location;\n  var regexResult = URL_REGEX.exec(url);\n  var protocol;\n  var hostname;\n  var port;\n\n  if (regexResult) {\n    // It's an absolute URL. Use the parsed info.\n    // regexResult[1] will be undefined if the URL starts with //\n    protocol = regexResult[1] ? regexResult[1] : location.protocol;\n    hostname = regexResult[2];\n    port = regexResult[4];\n  } else {\n    // It's a relative path. Use the current location's info.\n    protocol = location.protocol;\n    hostname = location.hostname;\n    port = location.port;\n  } // If the protocol is file, the origin is \"null\"\n  // The origin of a document with file protocol is an opaque origin\n  // and its serialization \"null\" [1]\n  // [1] https://html.spec.whatwg.org/multipage/origin.html#origin\n\n\n  if (protocol === \"file:\") {\n    return \"null\";\n  } // If the port is the default for the protocol, we don't want to add it to the origin string\n  // or it won't match the message's event.origin.\n\n\n  var portSuffix = port && port !== DEFAULT_PORTS[protocol] ? \":\".concat(port) : '';\n  return \"\".concat(protocol, \"//\").concat(hostname).concat(portSuffix);\n};\n/**\n * A simplified promise class only used internally for when destroy() is called. This is\n * used to destroy connections synchronously while promises typically resolve asynchronously.\n *\n * @param {Function} executor\n * @returns {Object}\n * @constructor\n */\n\n\nvar DestructionPromise = function DestructionPromise(executor) {\n  var handlers = [];\n  executor(function () {\n    handlers.forEach(function (handler) {\n      handler();\n    });\n  });\n  return {\n    then: function then(handler) {\n      handlers.push(handler);\n    }\n  };\n};\n/**\n * Converts an error object into a plain object.\n * @param {Error} Error object.\n * @returns {Object}\n */\n\n\nvar serializeError = function serializeError(_ref) {\n  var name = _ref.name,\n      message = _ref.message,\n      stack = _ref.stack;\n  return {\n    name: name,\n    message: message,\n    stack: stack\n  };\n};\n/**\n * Converts a plain object into an error object.\n * @param {Object} Object with error properties.\n * @returns {Error}\n */\n\n\nvar deserializeError = function deserializeError(obj) {\n  var deserializedError = new Error();\n  Object.keys(obj).forEach(function (key) {\n    return deserializedError[key] = obj[key];\n  });\n  return deserializedError;\n};\n/**\n * Augments an object with methods that match those defined by the remote. When these methods are\n * called, a \"call\" message will be sent to the remote, the remote's corresponding method will be\n * executed, and the method's return value will be returned via a message.\n * @param {Object} callSender Sender object that should be augmented with methods.\n * @param {Object} info Information about the local and remote windows.\n * @param {Array} methodNames Names of methods available to be called on the remote.\n * @param {Promise} destructionPromise A promise resolved when destroy() is called on the penpal\n * connection.\n * @returns {Object} The call sender object with methods that may be called.\n */\n\n\nvar connectCallSender = function connectCallSender(callSender, info, methodNames, destroy, destructionPromise) {\n  var localName = info.localName,\n      local = info.local,\n      remote = info.remote,\n      remoteOrigin = info.remoteOrigin;\n  var destroyed = false;\n  log(\"\".concat(localName, \": Connecting call sender\"));\n\n  var createMethodProxy = function createMethodProxy(methodName) {\n    return function () {\n      for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n\n      log(\"\".concat(localName, \": Sending \").concat(methodName, \"() call\")); // This handles the case where the iframe has been removed from the DOM\n      // (and therefore its window closed), the consumer has not yet\n      // called destroy(), and the user calls a method exposed by\n      // the remote. We detect the iframe has been removed and force\n      // a destroy() immediately so that the consumer sees the error saying\n      // the connection has been destroyed.\n\n      if (remote.closed) {\n        destroy();\n      }\n\n      if (destroyed) {\n        var error = new Error(\"Unable to send \".concat(methodName, \"() call due \") + \"to destroyed connection\");\n        error.code = ERR_CONNECTION_DESTROYED;\n        throw error;\n      }\n\n      return new Penpal.Promise(function (resolve, reject) {\n        var id = generateId();\n\n        var handleMessageEvent = function handleMessageEvent(event) {\n          if (event.source === remote && event.origin === remoteOrigin && event.data.penpal === REPLY && event.data.id === id) {\n            log(\"\".concat(localName, \": Received \").concat(methodName, \"() reply\"));\n            local.removeEventListener(MESSAGE, handleMessageEvent);\n            var returnValue = event.data.returnValue;\n\n            if (event.data.returnValueIsError) {\n              returnValue = deserializeError(returnValue);\n            }\n\n            (event.data.resolution === FULFILLED ? resolve : reject)(returnValue);\n          }\n        };\n\n        local.addEventListener(MESSAGE, handleMessageEvent);\n        remote.postMessage({\n          penpal: CALL,\n          id: id,\n          methodName: methodName,\n          args: args\n        }, remoteOrigin);\n      });\n    };\n  };\n\n  destructionPromise.then(function () {\n    destroyed = true;\n  });\n  methodNames.reduce(function (api, methodName) {\n    api[methodName] = createMethodProxy(methodName);\n    return api;\n  }, callSender);\n};\n/**\n * Listens for \"call\" messages coming from the remote, executes the corresponding method, and\n * responds with the return value.\n * @param {Object} info Information about the local and remote windows.\n * @param {Object} methods The keys are the names of the methods that can be called by the remote\n * while the values are the method functions.\n * @param {Promise} destructionPromise A promise resolved when destroy() is called on the penpal\n * connection.\n * @returns {Function} A function that may be called to disconnect the receiver.\n */\n\n\nvar connectCallReceiver = function connectCallReceiver(info, methods, destructionPromise) {\n  var localName = info.localName,\n      local = info.local,\n      remote = info.remote,\n      remoteOrigin = info.remoteOrigin;\n  var destroyed = false;\n  log(\"\".concat(localName, \": Connecting call receiver\"));\n\n  var handleMessageEvent = function handleMessageEvent(event) {\n    if (event.source === remote && event.origin === remoteOrigin && event.data.penpal === CALL) {\n      var _event$data = event.data,\n          methodName = _event$data.methodName,\n          args = _event$data.args,\n          id = _event$data.id;\n      log(\"\".concat(localName, \": Received \").concat(methodName, \"() call\"));\n\n      if (methodName in methods) {\n        var createPromiseHandler = function createPromiseHandler(resolution) {\n          return function (returnValue) {\n            log(\"\".concat(localName, \": Sending \").concat(methodName, \"() reply\"));\n\n            if (destroyed) {\n              // It's possible to throw an error here, but it would need to be thrown asynchronously\n              // and would only be catchable using window.onerror. This is because the consumer\n              // is merely returning a value from their method and not calling any function\n              // that they could wrap in a try-catch. Even if the consumer were to catch the error,\n              // the value of doing so is questionable. Instead, we'll just log a message.\n              log(\"\".concat(localName, \": Unable to send \").concat(methodName, \"() reply due to destroyed connection\"));\n              return;\n            }\n\n            var message = {\n              penpal: REPLY,\n              id: id,\n              resolution: resolution,\n              returnValue: returnValue\n            };\n\n            if (resolution === REJECTED && returnValue instanceof Error) {\n              message.returnValue = serializeError(returnValue);\n              message.returnValueIsError = true;\n            }\n\n            try {\n              remote.postMessage(message, remoteOrigin);\n            } catch (err) {\n              // If a consumer attempts to send an object that's not cloneable (e.g., window),\n              // we want to ensure the receiver's promise gets rejected.\n              if (err.name === DATA_CLONE_ERROR) {\n                remote.postMessage({\n                  penpal: REPLY,\n                  id: id,\n                  resolution: REJECTED,\n                  returnValue: serializeError(err),\n                  returnValueIsError: true\n                }, remoteOrigin);\n              }\n\n              throw err;\n            }\n          };\n        };\n\n        new Penpal.Promise(function (resolve) {\n          return resolve(methods[methodName].apply(methods, args));\n        }).then(createPromiseHandler(FULFILLED), createPromiseHandler(REJECTED));\n      }\n    }\n  };\n\n  local.addEventListener(MESSAGE, handleMessageEvent);\n  destructionPromise.then(function () {\n    destroyed = true;\n    local.removeEventListener(MESSAGE, handleMessageEvent);\n  });\n};\n/**\n * @typedef {Object} Child\n * @property {Promise} promise A promise which will be resolved once a connection has\n * been established.\n * @property {HTMLIframeElement} iframe The created iframe element.\n * @property {Function} destroy A method that, when called, will remove the iframe element from\n * the DOM and clean up event listeners.\n */\n\n/**\n * Creates an iframe, loads a webpage into the URL, and attempts to establish communication with\n * the iframe.\n * @param {Object} options\n * @param {string} options.url The URL of the webpage that should be loaded into the created iframe.\n * @param {HTMLElement} [options.appendTo] The container to which the iframe should be appended.\n * @param {Object} [options.methods={}] Methods that may be called by the iframe.\n * @param {Number} [options.timeout] The amount of time, in milliseconds, Penpal should wait\n * for the child to respond before rejecting the connection promise.\n * @return {Child}\n */\n\n\nPenpal.connectToChild = function (_ref2) {\n  var url = _ref2.url,\n      appendTo = _ref2.appendTo,\n      iframe = _ref2.iframe,\n      _ref2$methods = _ref2.methods,\n      methods = _ref2$methods === void 0 ? {} : _ref2$methods,\n      timeout = _ref2.timeout;\n\n  if (iframe && iframe.parentNode) {\n    var error = new Error('connectToChild() must not be called with an iframe already attached to DOM');\n    error.code = ERR_IFRAME_ALREADY_ATTACHED_TO_DOM;\n    throw error;\n  }\n\n  var destroy;\n  var connectionDestructionPromise = new DestructionPromise(function (resolveConnectionDestructionPromise) {\n    destroy = resolveConnectionDestructionPromise;\n  });\n  var parent = window;\n  iframe = iframe || document.createElement('iframe');\n  iframe.src = url;\n  var childOrigin = getOriginFromUrl(url);\n  var promise = new Penpal.Promise(function (resolveConnectionPromise, reject) {\n    var connectionTimeoutId;\n\n    if (timeout !== undefined) {\n      connectionTimeoutId = setTimeout(function () {\n        var error = new Error(\"Connection to child timed out after \".concat(timeout, \"ms\"));\n        error.code = ERR_CONNECTION_TIMEOUT;\n        reject(error);\n        destroy();\n      }, timeout);\n    } // We resolve the promise with the call sender. If the child reconnects (for example, after\n    // refreshing or navigating to another page that uses Penpal, we'll update the call sender\n    // with methods that match the latest provided by the child.\n\n\n    var callSender = {};\n    var receiverMethodNames;\n    var destroyCallReceiver;\n\n    var handleMessage = function handleMessage(event) {\n      var child = iframe.contentWindow;\n\n      if (event.source === child && event.origin === childOrigin && event.data.penpal === HANDSHAKE) {\n        log('Parent: Received handshake, sending reply'); // If event.origin is \"null\", the remote protocol is file:\n        // and we must post messages with \"*\" as targetOrigin [1]\n        // [1] https://developer.mozilla.org/fr/docs/Web/API/Window/postMessage#Utiliser_window.postMessage_dans_les_extensions\n\n        var remoteOrigin = event.origin === \"null\" ? \"*\" : event.origin;\n        event.source.postMessage({\n          penpal: HANDSHAKE_REPLY,\n          methodNames: Object.keys(methods)\n        }, remoteOrigin);\n        var info = {\n          localName: 'Parent',\n          local: parent,\n          remote: child,\n          remoteOrigin: remoteOrigin\n        }; // If the child reconnected, we need to destroy the previous call receiver before setting\n        // up a new one.\n\n        if (destroyCallReceiver) {\n          destroyCallReceiver();\n        } // When this promise is resolved, it will destroy the call receiver (stop listening to\n        // method calls from the child) and delete its methods off the call sender.\n\n\n        var callReceiverDestructionPromise = new DestructionPromise(function (resolveCallReceiverDestructionPromise) {\n          connectionDestructionPromise.then(resolveCallReceiverDestructionPromise);\n          destroyCallReceiver = resolveCallReceiverDestructionPromise;\n        });\n        connectCallReceiver(info, methods, callReceiverDestructionPromise); // If the child reconnected, we need to remove the methods from the previous call receiver\n        // off the sender.\n\n        if (receiverMethodNames) {\n          receiverMethodNames.forEach(function (receiverMethodName) {\n            delete callSender[receiverMethodName];\n          });\n        }\n\n        receiverMethodNames = event.data.methodNames;\n        connectCallSender(callSender, info, receiverMethodNames, destroy, connectionDestructionPromise);\n        clearTimeout(connectionTimeoutId);\n        resolveConnectionPromise(callSender);\n      }\n    };\n\n    parent.addEventListener(MESSAGE, handleMessage);\n    log('Parent: Loading iframe');\n    (appendTo || document.body).appendChild(iframe); // This is to prevent memory leaks when the iframe is removed\n    // from the document and the consumer hasn't called destroy().\n    // Without this, event listeners attached to the window would\n    // stick around and since the event handlers have a reference\n    // to the iframe in their closures, the iframe would stick around\n    // too.\n\n    var checkIframeInDocIntervalId = setInterval(function () {\n      if (!document.body.contains(iframe)) {\n        clearInterval(checkIframeInDocIntervalId);\n        destroy();\n      }\n    }, CHECK_IFRAME_IN_DOC_INTERVAL);\n    connectionDestructionPromise.then(function () {\n      if (iframe.parentNode) {\n        iframe.parentNode.removeChild(iframe);\n      }\n\n      parent.removeEventListener(MESSAGE, handleMessage);\n      clearInterval(checkIframeInDocIntervalId);\n      var error = new Error('Connection destroyed');\n      error.code = ERR_CONNECTION_DESTROYED;\n      reject(error);\n    });\n  });\n  return {\n    promise: promise,\n    iframe: iframe,\n    destroy: destroy\n  };\n};\n/**\n * @typedef {Object} Parent\n * @property {Promise} promise A promise which will be resolved once a connection has\n * been established.\n */\n\n/**\n * Attempts to establish communication with the parent window.\n * @param {Object} options\n * @param {string} [options.parentOrigin=*] Valid parent origin used to restrict communication.\n * @param {Object} [options.methods={}] Methods that may be called by the parent window.\n * @param {Number} [options.timeout] The amount of time, in milliseconds, Penpal should wait\n * for the parent to respond before rejecting the connection promise.\n * @return {Parent}\n */\n\n\nPenpal.connectToParent = function () {\n  var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref3$parentOrigin = _ref3.parentOrigin,\n      parentOrigin = _ref3$parentOrigin === void 0 ? '*' : _ref3$parentOrigin,\n      _ref3$methods = _ref3.methods,\n      methods = _ref3$methods === void 0 ? {} : _ref3$methods,\n      timeout = _ref3.timeout;\n\n  if (window === window.top) {\n    var error = new Error('connectToParent() must be called within an iframe');\n    error.code = ERR_NOT_IN_IFRAME;\n    throw error;\n  }\n\n  var destroy;\n  var connectionDestructionPromise = new DestructionPromise(function (resolveConnectionDestructionPromise) {\n    destroy = resolveConnectionDestructionPromise;\n  });\n  var child = window;\n  var parent = child.parent;\n  var promise = new Penpal.Promise(function (resolveConnectionPromise, reject) {\n    var connectionTimeoutId;\n\n    if (timeout !== undefined) {\n      connectionTimeoutId = setTimeout(function () {\n        var error = new Error(\"Connection to parent timed out after \".concat(timeout, \"ms\"));\n        error.code = ERR_CONNECTION_TIMEOUT;\n        reject(error);\n        destroy();\n      }, timeout);\n    }\n\n    var handleMessageEvent = function handleMessageEvent(event) {\n      if ((parentOrigin === '*' || parentOrigin === event.origin) && event.source === parent && event.data.penpal === HANDSHAKE_REPLY) {\n        log('Child: Received handshake reply');\n        child.removeEventListener(MESSAGE, handleMessageEvent);\n        var info = {\n          localName: 'Child',\n          local: child,\n          remote: parent,\n          remoteOrigin: event.origin\n        };\n        var callSender = {};\n        connectCallReceiver(info, methods, connectionDestructionPromise);\n        connectCallSender(callSender, info, event.data.methodNames, destroy, connectionDestructionPromise);\n        clearTimeout(connectionTimeoutId);\n        resolveConnectionPromise(callSender);\n      }\n    };\n\n    child.addEventListener(MESSAGE, handleMessageEvent);\n    connectionDestructionPromise.then(function () {\n      child.removeEventListener(MESSAGE, handleMessageEvent);\n      var error = new Error('Connection destroyed');\n      error.code = ERR_CONNECTION_DESTROYED;\n      reject(error);\n    });\n    log('Child: Sending handshake');\n    parent.postMessage({\n      penpal: HANDSHAKE,\n      methodNames: Object.keys(methods)\n    }, parentOrigin);\n  });\n  return {\n    promise: promise,\n    destroy: destroy\n  };\n};\n\nvar _default = Penpal;\nexports.default = _default;\n});\n\nvar Penpal = unwrapExports(lib);\n\nvar Stats = /** @class */ (function () {\n    function Stats(meta) {\n        this.$meta = meta;\n    }\n    Object.defineProperty(Stats.prototype, \"originalRows\", {\n        /**\n         * The number of rows in the parsed data\n         */\n        get: function () {\n            return this.$meta.count_rows;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Stats.prototype, \"acceptedRows\", {\n        /**\n         * The number of rows that were submitted\n         */\n        get: function () {\n            return this.$meta.count_rows_accepted || null;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Stats.prototype, \"originalColumns\", {\n        /**\n         * The number of columns in the parsed data\n         */\n        get: function () {\n            return this.$meta.count_columns || null;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Stats.prototype, \"matchedColumns\", {\n        /**\n         * The number of columns submitted\n         */\n        get: function () {\n            return this.$meta.count_columns_matched || null;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return Stats;\n}());\n\nvar EndUser = /** @class */ (function () {\n    function EndUser(meta) {\n        this.$user = meta;\n    }\n    Object.defineProperty(EndUser.prototype, \"id\", {\n        /**\n         * The UUID referencing the user's record stored in Flatfile\n         */\n        get: function () {\n            return this.$user.id;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EndUser.prototype, \"userId\", {\n        /**\n         * Your internal ID reference for this user (required)\n         */\n        get: function () {\n            return this.$user.userId;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EndUser.prototype, \"name\", {\n        /**\n         * The user's full name if you provided it\n         */\n        get: function () {\n            return this.$user.name;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EndUser.prototype, \"email\", {\n        /**\n         * The user's email if you provided it\n         */\n        get: function () {\n            return this.$user.name;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EndUser.prototype, \"companyName\", {\n        /**\n         * The company name the user is currently operating under\n         */\n        get: function () {\n            return this.$user.companyName;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EndUser.prototype, \"companyId\", {\n        /**\n         * The company name the user is currently operating under\n         */\n        get: function () {\n            return this.$user.companyId;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return EndUser;\n}());\n\nvar UploadFile = /** @class */ (function () {\n    function UploadFile(file) {\n        this.$file = file;\n    }\n    Object.defineProperty(UploadFile.prototype, \"id\", {\n        /**\n         * A unique UUID referencing this file in the Flatfile system\n         */\n        get: function () {\n            return this.$file.id;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(UploadFile.prototype, \"filename\", {\n        /**\n         * The original filename on the user's system\n         */\n        get: function () {\n            return this.$file.filename;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(UploadFile.prototype, \"filesize\", {\n        /**\n         * The size of the file in bytes\n         */\n        get: function () {\n            return this.$file.filesize;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(UploadFile.prototype, \"filetype\", {\n        /**\n         * The type of file\n         */\n        get: function () {\n            return this.$file.filetype;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(UploadFile.prototype, \"url\", {\n        /**\n         * A securely signed url giving you temporary access to download the file\n         */\n        get: function () {\n            return this.$file.url;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return UploadFile;\n}());\n\nvar StreamedResults = /** @class */ (function () {\n    function StreamedResults(data, meta) {\n        this.$meta = meta;\n        this.$data = data;\n    }\n    Object.defineProperty(StreamedResults.prototype, \"rawOutput\", {\n        /**\n         * The raw output from the importer including all deleted rows\n         * and sequence info\n         */\n        get: function () {\n            return this.$data;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(StreamedResults.prototype, \"data\", {\n        /**\n         * An array of valid data, key-mapped to the configuration provided\n         * (alias of validData)\n         */\n        get: function () {\n            return this.validData;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(StreamedResults.prototype, \"validData\", {\n        /**\n         * An array of valid data, key-mapped to the configuration provided\n         */\n        get: function () {\n            return this.$data\n                .filter(function (v) { return v.valid; })\n                .filter(function (v) { return !v.deleted; })\n                .map(function (v) { return v.data; });\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(StreamedResults.prototype, \"deletedData\", {\n        /**\n         * Rows of data the user excluded from the final results,\n         * key-mapped to the configuration provided\n         */\n        get: function () {\n            return this.$data.filter(function (v) { return v.deleted; }).map(function (v) { return v.data; });\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(StreamedResults.prototype, \"allData\", {\n        /**\n         * All data from the original file upload including deleted rows,\n         * key-mapped to the configuration provided\n         */\n        get: function () {\n            return this.$data.map(function (v) { return v.data; });\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(StreamedResults.prototype, \"remainingChunks\", {\n        /**\n         * The number of remaining chunks in the stream\n         */\n        get: function () {\n            return Math.ceil((this.totalChunks - this.currentChunk) / this.$meta.inChunks);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(StreamedResults.prototype, \"totalChunks\", {\n        /**\n         * The total number of chunks that will have to be received before data processing is completed\n         */\n        get: function () {\n            return Math.ceil(this.$meta.count_rows_accepted / this.$meta.inChunks);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(StreamedResults.prototype, \"chunkSize\", {\n        /**\n         * The size of chunks as configured when requesting data.\n         */\n        get: function () {\n            return this.$meta.inChunks;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(StreamedResults.prototype, \"currentChunk\", {\n        /**\n         * The current chunk by index\n         */\n        get: function () {\n            return (this.$meta.pointer + this.chunkSize) / this.chunkSize;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(StreamedResults.prototype, \"hasMore\", {\n        /**\n         * The current chunk by index\n         */\n        get: function () {\n            return this.$meta.hasMore;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return StreamedResults;\n}());\n\nvar Results = /** @class */ (function () {\n    function Results(data, meta, importer) {\n        this.$meta = meta;\n        this.$data = data;\n        this.$importer = importer;\n    }\n    Object.defineProperty(Results.prototype, \"rawOutput\", {\n        /**\n         * The raw output from the importer including all deleted rows\n         * and sequence info\n         */\n        get: function () {\n            return this.blobOnly(this.$data, 'rawOutput');\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Results.prototype, \"data\", {\n        /**\n         * An array of valid data, key-mapped to the configuration provided\n         * (alias of validData)\n         */\n        get: function () {\n            return this.blobOnly(this.validData, 'data');\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Results.prototype, \"validData\", {\n        /**\n         * An array of valid data, key-mapped to the configuration provided\n         */\n        get: function () {\n            var res = this.$data\n                .filter(function (v) { return v.valid; })\n                .filter(function (v) { return !v.deleted; })\n                .map(function (v) { return v.data; });\n            return this.blobOnly(res, 'validData');\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Results.prototype, \"deletedData\", {\n        /**\n         * Rows of data the user excluded from the final results,\n         * key-mapped to the configuration provided\n         */\n        get: function () {\n            var res = this.$data.filter(function (v) { return v.deleted; }).map(function (v) { return v.data; });\n            return this.blobOnly(res, 'deletedData');\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Results.prototype, \"allData\", {\n        /**\n         * All data from the original file upload including deleted rows,\n         * key-mapped to the configuration provided\n         */\n        get: function () {\n            return this.blobOnly(this.$data.map(function (v) { return v.data; }), 'allData');\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Results.prototype, \"batchId\", {\n        /**\n         * The uuid of the batch assigned by Flatfile (use this in internal\n         * references for support purposes)\n         */\n        get: function () {\n            return this.$meta.batchID;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Results.prototype, \"stats\", {\n        /**\n         * Stats and counts about this file upload\n         */\n        get: function () {\n            return new Stats(this.$meta);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Results.prototype, \"customer\", {\n        /**\n         * The customer provided in setCustomer\n         */\n        get: function () {\n            if (this.$meta.endUser) {\n                return new EndUser(this.$meta.endUser);\n            }\n            return null;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Results.prototype, \"originalFile\", {\n        /**\n         * A File object of the originally uploaded file stored as an AWS url\n         */\n        get: function () {\n            if (this.$meta.originalFile) {\n                return new UploadFile(this.$meta.originalFile);\n            }\n            return null;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Results.prototype, \"csvFile\", {\n        /**\n         * Same as originalFile unless it was uploaded in xls format, in which case this is the converted csv file stored as an AWS url\n         */\n        get: function () {\n            if (this.$meta.originalFile) {\n                if (this.$meta.originalFile.filetype === 'csv') {\n                    return new UploadFile(this.$meta.originalFile);\n                }\n                else {\n                    if (this.$meta.csvFile) {\n                        return new UploadFile(this.$meta.csvFile);\n                    }\n                }\n            }\n            return null;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Results.prototype, \"fileName\", {\n        /**\n         * The filename of the originally uploaded file\n         */\n        get: function () {\n            return this.$meta.filename || null;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Results.prototype, \"managed\", {\n        /**\n         * If the final upload is managed by a private endpoint or not\n         */\n        get: function () {\n            return this.$meta.managed || false;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Results.prototype, \"manual\", {\n        /**\n         * If the data was entered manually instead of via file upload or not\n         */\n        get: function () {\n            return this.$meta.manual;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Results.prototype, \"config\", {\n        /**\n         * The parsed and bootstrapped config object used by this importer instance\n         */\n        get: function () {\n            return this.$meta.config;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Results.prototype, \"parsingConfig\", {\n        /**\n         * The configuration used by the csv parser PapaParse: https://www.papaparse.com/docs#config\n         */\n        get: function () {\n            return this.$meta.parsing_config;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Results.prototype, \"skippedRows\", {\n        /**\n         * The invalid rows that were skipped on submission\n         */\n        get: function () {\n            return this.$meta.skipped_rows || null;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Results.prototype, \"headersRaw\", {\n        /**\n         * The headers before they were matched as given in the original file\n         */\n        get: function () {\n            return this.$meta.headers_raw || null;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Results.prototype, \"headersMatched\", {\n        /**\n         * The headers after they are matched\n         */\n        get: function () {\n            return this.$meta.headers_matched || null;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Results.prototype, \"customColumns\", {\n        /**\n         * An array of any columns that were created during import\n         */\n        get: function () {\n            return this.$meta.custom_columns;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Results.prototype, \"categoryFieldMap\", {\n        /**\n         * A mapping of source values to target category values\n         */\n        get: function () {\n            return this.$meta.category_field_map || null;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Results.prototype, \"failureReason\", {\n        /**\n         * The reason for the failure if there was a failure\n         */\n        get: function () {\n            return this.$meta.failure_reason || null;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Results.prototype, \"submittedAt\", {\n        /**\n         * The time that the data was submitted\n         */\n        get: function () {\n            return this.$meta.submitted_at || null;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Results.prototype, \"failedAt\", {\n        /**\n         * The time that the import failed if it failed\n         */\n        get: function () {\n            return this.$meta.failed_at || null;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Results.prototype, \"createdAt\", {\n        /**\n         * The time the data began the import, whether via file upload or manual data entry\n         */\n        get: function () {\n            return this.$meta.created_at;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Results.prototype, \"stylesheet\", {\n        /**\n         * The stylesheet of the cells. Make sure to use `allowFormatting=true` in the config.\n         */\n        get: function () {\n            return this.$meta.stylesheet;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Results.prototype.blobOnly = function (v, method, alt) {\n        if (alt === void 0) { alt = 'nextChunk()'; }\n        if (this.$meta.inChunks) {\n            throw new Error(\"\\\"\" + method + \"\\\" is not accessible when using \\\"inChunks\\\". Please see docs for \\\"\" + alt + \"\\\" instead.\");\n        }\n        return v;\n    };\n    /**\n     * Get the next chunk of records\n     */\n    Results.prototype.nextChunk = function () {\n        var _this = this;\n        return new Promise(function (resolve, reject) {\n            if (!_this.$meta.inChunks) {\n                return reject(\"\\\"nextChunk()\\\" is only accessible when using \\\"inChunks\\\". Please see docs for \\\"requestDataFromUser\\\".\");\n            }\n            _this.$importer.$ready.then(function (child) {\n                console.log('child.nextChunk()');\n                child.nextChunk().then(function (data) {\n                    console.log('nextChunk()', data);\n                    resolve(data.results.length ? new StreamedResults(data.results, data.meta) : null);\n                }, function (err) {\n                    console.log('nextChunk(err)', err);\n                });\n            });\n        });\n    };\n    return Results;\n}());\n\nvar FlatfileImporter$1 = /** @class */ (function (_super) {\n    __extends(FlatfileImporter, _super);\n    function FlatfileImporter(apiKey, options, customer) {\n        var _this = _super.call(this) || this;\n        _this.$fieldHooks = [];\n        _this.$stepHooks = {};\n        _this.apiKey = apiKey;\n        _this.options = options;\n        _this.customer = customer;\n        _this.uuid = _this.$generateUuid();\n        _this.$ready = new FlatfileImporter.Promise(function (resolve, reject) {\n            _this.$resolver = resolve;\n            _this.$rejecter = reject;\n        });\n        whenDomReady(function () {\n            _this.initialize();\n        });\n        return _this;\n    }\n    /**\n     * This will by default always be `https://www.flatfile.io/importer/:key` unless you are\n     * an enterprise customer that is self-hosting the application. In which case, this\n     * will be the URL of your enterprise installd Flatfile importer index page\n     */\n    FlatfileImporter.setMountUrl = function (url) {\n        this.MOUNT_URL = url;\n    };\n    /**\n     * This allows you to opt into or out of specific versions of the Flatfile SDK\n     */\n    FlatfileImporter.setVersion = function (version) {\n        switch (version) {\n            case 1:\n                this.MOUNT_URL = 'https://kiosk-lite.flatfile.io/?key=:key';\n                break;\n            case 2:\n                this.MOUNT_URL = 'https://portal-2.flatfile.io/?key=:key';\n                break;\n            default:\n                throw new Error(version + \" is not a valid version\");\n        }\n    };\n    /**\n     * Call open() to activate the importer overlay dialog.\n     */\n    FlatfileImporter.prototype.open = function (options) {\n        var _this = this;\n        if (options === void 0) { options = {}; }\n        options = __assign(__assign({}, options), { bulkInit: true, hasRecordHook: !!this.$recordHook, hasInteractionEventCallback: !!this.$interactionEventCallback, stepHooks: Object.keys(this.$stepHooks), fieldHooks: this.$fieldHooks.map(function (v) { return v.field; }), endUser: this.customer });\n        this.$ready.then(function (child) {\n            elementClass(document.body).add('flatfile-active');\n            var el = document.getElementById(\"flatfile-\" + _this.uuid);\n            if (el) {\n                el.style.display = 'block';\n            }\n            child.open(options);\n        });\n    };\n    /**\n     * Use load() when you want a promise returned. This is necessary if you want to use\n     * async/await for an es6 implementation\n     * @deprecated\n     */\n    FlatfileImporter.prototype.load = function () {\n        var _this = this;\n        return new FlatfileImporter.Promise(function (resolve, reject) {\n            _this.open();\n            var cleanup = function () {\n                _this.removeListener('close', loadRejectHandler);\n                _this.removeListener('complete', loadResolveHandler);\n            };\n            function loadResolveHandler(rows) {\n                resolve(rows);\n                cleanup();\n            }\n            function loadRejectHandler(err) {\n                reject(err);\n                cleanup();\n            }\n            _this.on('close', loadRejectHandler);\n            _this.on('complete', loadResolveHandler);\n        });\n    };\n    /**\n     * Use requestDataFromUser() when you want a promise returned. This is necessary if you want to use\n     * async/await for an es6 implementation\n     */\n    FlatfileImporter.prototype.requestDataFromUser = function (options) {\n        if (options === void 0) { options = {}; }\n        this.open(__assign(__assign({}, options), { inChunks: options.inChunks || null, expectsExpandedResults: true }));\n        return this.responsePromise();\n    };\n    /**\n     * This will display a progress indicator inside the importer if you anticipate that handling\n     * the output of the importer may take some time.\n     */\n    FlatfileImporter.prototype.displayLoader = function (msg) {\n        this.$ready.then(function (child) {\n            child.displayLoader(msg);\n        });\n    };\n    /**\n     * This will display a dialog inside of the importer with an error icon and the message you\n     * pass. The user will be able to acknowledge the error and be returned to the import data\n     * spreadsheet to ideally fix any issues or attempt submitting again.\n     * @deprecated\n     */\n    FlatfileImporter.prototype.displayError = function (msg) {\n        this.$ready.then(function (child) {\n            child.displayError(msg);\n        });\n    };\n    /**\n     * This will display a dialog inside of the importer with an error icon and the message you\n     * pass. The user will be able to acknowledge the error and be returned to the import data\n     * spreadsheet to ideally fix any issues or attempt submitting again.\n     *\n     * @param corrections - allows user to do server-side validation and provide error / warning\n     * messages or value overrides\n     */\n    FlatfileImporter.prototype.requestCorrectionsFromUser = function (msg, corrections) {\n        this.$ready.then(function (child) {\n            child.displayError(msg, corrections);\n        });\n        return this.responsePromise();\n    };\n    /**\n     * This will display a dialog inside of the importer with a success icon and the message you\n     * pass.\n     *\n     * @return Promise that will be resolved when user closes the dialog.\n     */\n    FlatfileImporter.prototype.displaySuccess = function (msg) {\n        var _this = this;\n        this.$ready.then(function (child) {\n            child.displaySuccess(msg);\n        });\n        return new Promise(function (resolve) {\n            var handleSuccess = function () {\n                resolve();\n                _this.removeListener('close', handleSuccess);\n            };\n            _this.on('close', handleSuccess);\n        });\n    };\n    /**\n     * Set the customer information for this import\n     */\n    FlatfileImporter.prototype.setCustomer = function (customer) {\n        this.customer = customer;\n    };\n    /**\n     * Set the language for the Portal\n     */\n    FlatfileImporter.prototype.setLanguage = function (lang) {\n        this.$ready.then(function (child) {\n            child.setLanguage(lang);\n        });\n    };\n    FlatfileImporter.prototype.addVirtualField = function (field, options) {\n        if (options === void 0) { options = {}; }\n        this.$ready.then(function (child) {\n            child.addVirtualField({ field: field, options: options });\n        });\n    };\n    /**\n     * Set the customer information for this import\n     */\n    FlatfileImporter.prototype.registerRecordHook = function (callback) {\n        this.$recordHook = callback;\n    };\n    FlatfileImporter.prototype.registerNetworkErrorCallback = function (callback) {\n        this.$networkErrorCallback = callback;\n    };\n    FlatfileImporter.prototype.registerBeforeFetchCallback = function (callback) {\n        this.$beforeFetchCallback = callback;\n    };\n    FlatfileImporter.prototype.registerInteractionEventCallback = function (callback) {\n        this.$interactionEventCallback = callback;\n    };\n    FlatfileImporter.prototype.registerFieldHook = function (field, cb) {\n        this.$fieldHooks.push({ field: field, cb: cb });\n    };\n    FlatfileImporter.prototype.registerStepHook = function (step, callback) {\n        this.$stepHooks[step] = callback;\n    };\n    /**\n     * Call close() from the parent window in order to hide the importer. You can do this after\n     * handling the import callback so your users don't have to click the confirmation button\n     */\n    FlatfileImporter.prototype.close = function () {\n        this.$ready.then(function (child) {\n            child.close();\n        });\n    };\n    FlatfileImporter.prototype.handleClose = function () {\n        elementClass(document.body).remove('flatfile-active');\n        var el = document.getElementById(\"flatfile-\" + this.uuid);\n        if (el) {\n            el.style.display = 'none';\n        }\n    };\n    FlatfileImporter.prototype.initialize = function () {\n        var _this = this;\n        insertCss_1(\"\\n      .flatfile-component {\\n        position: fixed;\\n        top: 0;\\n        bottom: 0;\\n        right: 0;\\n        left: 0;\\n        display: none;\\n        z-index: 100000;\\n      }\\n      .flatfile-component iframe {\\n        width: 100%;\\n        height: 100%;\\n        position: absolute;\\n        border-width: 0;\\n      }\\n      body.flatfile-active {\\n        overflow: hidden;\\n        overscroll-behavior-x: none;\\n      }\\n    \");\n        document.body.insertAdjacentHTML('beforeend', \"<div id=\\\"flatfile-\" + this.uuid + \"\\\" class=\\\"flatfile-component\\\"></div>\");\n        this.handshake = Penpal.connectToChild({\n            appendTo: document.getElementById(\"flatfile-\" + this.uuid) || undefined,\n            url: FlatfileImporter.MOUNT_URL.replace(':key', this.apiKey),\n            methods: {\n                results: function (data) {\n                    _this.emit('results', data.results, data.meta);\n                },\n                complete: function (data) {\n                    _this.emit('complete', data.rows, data.meta);\n                },\n                close: function () {\n                    _this.emit('close');\n                    _this.handleClose();\n                },\n                networkErrorCallback: function (error) {\n                    return _this.$networkErrorCallback ? _this.$networkErrorCallback(error) : undefined;\n                },\n                beforeFetchCallback: function (req) {\n                    return _this.$beforeFetchCallback ? _this.$beforeFetchCallback(req) : undefined;\n                },\n                interactionEventCallback: function (req) {\n                    return _this.$interactionEventCallback ? _this.$interactionEventCallback(req) : undefined;\n                },\n                dataHookCallback: function (row, index, mode) {\n                    try {\n                        return _this.$recordHook ? _this.$recordHook(row, index, mode) : undefined;\n                    }\n                    catch (_a) {\n                        var message = _a.message, stack = _a.stack;\n                        console.error(\"Flatfile Record Hook Error on row \" + index + \":\\n  \" + stack, { row: row, mode: mode });\n                        return {};\n                    }\n                },\n                bulkHookCallback: function (rows, mode) {\n                    try {\n                        return _this.$recordHook\n                            ? Promise.all(rows.map(function (_a) {\n                                var row = _a[0], index = _a[1];\n                                try {\n                                    return _this.$recordHook(row, index, mode);\n                                }\n                                catch (e) {\n                                    e.row = row;\n                                    e.index = index;\n                                    throw e;\n                                }\n                            }))\n                            : undefined;\n                    }\n                    catch (_a) {\n                        var stack = _a.stack, row = _a.row, index = _a.index;\n                        console.error(\"Flatfile Record Hook Error on row \" + index + \":\\n  \" + stack, { row: row, mode: mode });\n                        return {};\n                    }\n                },\n                fieldHookCallback: function (values, meta) {\n                    var fieldHook = _this.$fieldHooks.find(function (v) { return v.field === meta.field; });\n                    if (!fieldHook) {\n                        return undefined;\n                    }\n                    try {\n                        return fieldHook.cb(values, meta);\n                    }\n                    catch (_a) {\n                        var stack = _a.stack;\n                        console.error(\"Flatfile Field Hook Error on field \\\"\" + meta.field + \"\\\":\\n  \" + stack, {\n                            meta: meta,\n                            values: values\n                        });\n                        return [];\n                    }\n                },\n                stepHookCallback: function (step, payload) { return __awaiter(_this, void 0, void 0, function () {\n                    var _a, stack;\n                    return __generator(this, function (_b) {\n                        switch (_b.label) {\n                            case 0:\n                                if (!this.$stepHooks[step]) {\n                                    return [2 /*return*/, undefined];\n                                }\n                                _b.label = 1;\n                            case 1:\n                                _b.trys.push([1, 3, , 4]);\n                                return [4 /*yield*/, this.$stepHooks[step](payload)];\n                            case 2: return [2 /*return*/, _b.sent()];\n                            case 3:\n                                _a = _b.sent();\n                                stack = _a.stack;\n                                console.error(\"Flatfile Step Hook Error on step \\\"\" + step + \"\\\":\\n  \" + stack, {\n                                    payload: payload\n                                });\n                                return [3 /*break*/, 4];\n                            case 4: return [2 /*return*/];\n                        }\n                    });\n                }); },\n                ready: function () {\n                    _this.handshake.promise\n                        .then(function (child) {\n                        _this.$resolver(child);\n                        if (_this.customer) {\n                            child.setUser(_this.customer);\n                        }\n                    })\n                        .catch(function (err) {\n                        console.error(err);\n                    });\n                    return _this.options;\n                }\n            }\n        });\n        this.handshake.promise.catch(function (err) {\n            _this.$rejecter(err);\n        });\n    };\n    FlatfileImporter.prototype.$generateUuid = function () {\n        return Math.random().toString(36).substring(2, 15) + Math.random().toString(36).substring(2, 15);\n    };\n    FlatfileImporter.prototype.responsePromise = function () {\n        var _this = this;\n        return new Promise(function (resolve, reject) {\n            var loadResolveHandler = function (rows, meta) { return __awaiter(_this, void 0, void 0, function () {\n                var results;\n                return __generator(this, function (_a) {\n                    results = new Results(rows, meta, this);\n                    resolve(results);\n                    cleanup();\n                    return [2 /*return*/];\n                });\n            }); };\n            function loadRejectHandler(err) {\n                reject(err);\n                cleanup();\n            }\n            var self = _this;\n            function cleanup() {\n                self.removeListener('close', loadRejectHandler);\n                self.removeListener('results', loadResolveHandler);\n            }\n            _this.on('close', loadRejectHandler);\n            _this.on('results', loadResolveHandler);\n        });\n    };\n    FlatfileImporter.Promise = Promise;\n    FlatfileImporter.MOUNT_URL = 'https://portal-2.flatfile.io/?key=:key';\n    return FlatfileImporter;\n}(eventemitter3_1));\n\nregisterDocumentContainsPolyfill();\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (FlatfileImporter$1);\n//# sourceMappingURL=index.js.map\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(\"c8ba\")))\n\n/***/ }),\n\n/***/ \"fae3\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, \"FlatfileButton\", function() { return /* reexport */ FlatfileButton; });\n\n// CONCATENATED MODULE: ./node_modules/@vue/cli-service/lib/commands/build/setPublicPath.js\n// This file is imported into lib/wc client bundles.\n\nif (typeof window !== 'undefined') {\n  var currentScript = window.document.currentScript\n  if (true) {\n    var getCurrentScript = __webpack_require__(\"8875\")\n    currentScript = getCurrentScript()\n\n    // for backward compatibility, because previously we directly included the polyfill\n    if (!('currentScript' in document)) {\n      Object.defineProperty(document, 'currentScript', { get: getCurrentScript })\n    }\n  }\n\n  var src = currentScript && currentScript.src.match(/(.+\\/)[^/]+\\.js(\\?.*)?$/)\n  if (src) {\n    __webpack_require__.p = src[1] // eslint-disable-line\n  }\n}\n\n// Indicate to webpack that this file can be concatenated\n/* harmony default export */ var setPublicPath = (null);\n\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{\"cacheDirectory\":\"node_modules/.cache/vue-loader\",\"cacheIdentifier\":\"6113ca50-vue-loader-template\"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/FlatfileButton.vue?vue&type=template&id=bc2f23a2&\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('button',{on:{\"click\":_vm.launch}},[_vm._t(\"default\")],2)])}\nvar staticRenderFns = []\n\n\n// CONCATENATED MODULE: ./src/components/FlatfileButton.vue?vue&type=template&id=bc2f23a2&\n\n// EXTERNAL MODULE: ./node_modules/@flatfile/adapter/build/browser/index.js\nvar browser = __webpack_require__(\"f2ae\");\n\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/FlatfileButton.vue?vue&type=script&lang=js&\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var FlatfileButtonvue_type_script_lang_js_ = ({\n  name: \"flatfile-button\",\n  props: {\n    settings: {\n      type: Object,\n      validator: function validator(value) {\n        return value && value.type && value.fields;\n      }\n    },\n    customer: {\n      type: Object,\n      validator: function validator(value) {\n        return value && value.userId;\n      }\n    },\n    licenseKey: {\n      type: String,\n      validator: function validator(value) {\n        return value && value.length;\n      }\n    },\n    fieldHooks: Object,\n    source: [String, Array],\n    onCancel: Function,\n    onInteractionEvent: Function,\n    onBeforeFetch: Function,\n    onData: Function,\n    onRecordChange: Function,\n    onRecordInit: Function,\n    render: Function,\n    preload: {\n      default: true,\n      type: Boolean\n    },\n    mountUrl: String\n  },\n  data: function data() {\n    return {\n      flatfileImporter: null,\n      loaded: false,\n      importerLoaded: true\n    };\n  },\n  mounted: function mounted() {\n    if (this.preload) {\n      this.loadImporter();\n    }\n  },\n  methods: {\n    loadImporter: function loadImporter() {\n      var _this = this;\n\n      if (this.flatfileImporter) {\n        return;\n      }\n\n      if (this.mountUrl) {\n        browser[\"a\" /* default */].setMountUrl(this.mountUrl);\n      }\n\n      var tempImporter = new browser[\"a\" /* default */](this.licenseKey, this.settings, this.customer);\n\n      if (this.fieldHooks) {\n        for (var key in this.fieldHooks) {\n          tempImporter.registerFieldHook(key, this.fieldHooks[key]);\n        }\n      }\n\n      if (this.onBeforeFetch) {\n        tempImporter.registerBeforeFetchCallback(this.onBeforeFetch);\n      }\n\n      if (this.onInteractionEvent) {\n        tempImporter.registerInteractionEventCallback(this.onInteractionEvent);\n      }\n\n      if (this.onRecordChange || this.onRecordInit) {\n        tempImporter.registerRecordHook(function (record, // : ScalarDictionaryWithCustom,\n        index, // : number,\n        eventType // : 'init' | 'change'\n        ) {\n          if (eventType === \"init\" && _this.onRecordInit) {\n            return _this.onRecordInit(record, index);\n          }\n\n          if (eventType === \"change\" && _this.onRecordChange) {\n            return _this.onRecordChange(record, index);\n          }\n        });\n      }\n\n      this.flatfileImporter = tempImporter;\n      this.loaded = true;\n    },\n    dataHandler: function dataHandler(results) {\n      var _this$onData,\n          _this2 = this;\n\n      this.flatfileImporter.displayLoader();\n      (_this$onData = this.onData) === null || _this$onData === void 0 ? void 0 : _this$onData.call(this, results).then(function (optionalMessage) {\n        var _this2$flatfileImport, _this2$flatfileImport2;\n\n        return optionalMessage !== null ? (_this2$flatfileImport = _this2.flatfileImporter.current) === null || _this2$flatfileImport === void 0 ? void 0 : _this2$flatfileImport.displaySuccess(optionalMessage || undefined) : (_this2$flatfileImport2 = _this2.flatfileImporter.current) === null || _this2$flatfileImport2 === void 0 ? void 0 : _this2$flatfileImport2.close();\n      }, function (error\n      /*: Error | string*/\n      ) {\n        var _this2$flatfileImport3;\n\n        return (_this2$flatfileImport3 = _this2.flatfileImporter.current) === null || _this2$flatfileImport3 === void 0 ? void 0 : _this2$flatfileImport3.requestCorrectionsFromUser(error instanceof Error ? error.message : error).then(_this2.dataHandler, function () {\n          var _this2$onCancel;\n\n          return (_this2$onCancel = _this2.onCancel) === null || _this2$onCancel === void 0 ? void 0 : _this2$onCancel.call(_this2);\n        });\n      });\n    },\n    launch: function launch() {\n      var _this3 = this;\n\n      this.validateInputs();\n\n      var dataHandler = function dataHandler(results) {\n        _this3.flatfileImporter.displayLoader();\n\n        if (_this3.onData) {\n          _this3.onData(results).then(function (optionalMessage) {\n            _this3.flatfileImporter.displaySuccess(optionalMessage || \"Success!\");\n          }, function (error) {\n            console.error(\"Flatfile Error : \".concat(error));\n\n            _this3.flatfileImporter.requestCorrectionsFromUser(error ? error.message : error).then(dataHandler, function () {\n              var _this3$onCancel;\n\n              return (_this3$onCancel = _this3.onCancel) === null || _this3$onCancel === void 0 ? void 0 : _this3$onCancel.call(_this3);\n            });\n          });\n        } else {\n          _this3.flatfileImporter.displaySuccess(\"Success!\");\n        }\n      };\n\n      if (!this.flatfileImporter) {\n        if (this.preload) {\n          return;\n        }\n\n        this.loadImporter();\n      }\n\n      var loadOptions = this.source ? {\n        source: this.source\n      } : undefined;\n      this.flatfileImporter.requestDataFromUser(loadOptions).then(dataHandler, function () {\n        var _this3$onCancel2;\n\n        return (_this3$onCancel2 = _this3.onCancel) === null || _this3$onCancel2 === void 0 ? void 0 : _this3$onCancel2.call(_this3);\n      });\n    },\n    validateInputs: function validateInputs() {\n      var _this$customer, _this$settings, _this$settings2;\n\n      if (!this.licenseKey) {\n        console.error(\"[Error] Flatfile VueJS Adapter - licenseKey not provided!\");\n        this.isImporterLoaded = false;\n      }\n\n      if (!((_this$customer = this.customer) !== null && _this$customer !== void 0 && _this$customer.userId)) {\n        console.error(\"[Error] Flatfile VueJS Adapter - customer userId not provided!\");\n        this.isImporterLoaded = false;\n      }\n\n      if (!((_this$settings = this.settings) !== null && _this$settings !== void 0 && _this$settings.type) || !((_this$settings2 = this.settings) !== null && _this$settings2 !== void 0 && _this$settings2.fields)) {\n        console.error(\"[Error] Flatfile VueJS Adapter - settings { type: String, fields: Array } not provided!\");\n        this.isImporterLoaded = false;\n      }\n    }\n  }\n});\n// CONCATENATED MODULE: ./src/components/FlatfileButton.vue?vue&type=script&lang=js&\n /* harmony default export */ var components_FlatfileButtonvue_type_script_lang_js_ = (FlatfileButtonvue_type_script_lang_js_); \n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/runtime/componentNormalizer.js\n/* globals __VUE_SSR_CONTEXT__ */\n\n// IMPORTANT: Do NOT use ES2015 features in this file (except for modules).\n// This module is a runtime utility for cleaner component module output and will\n// be included in the final webpack user bundle.\n\nfunction normalizeComponent (\n  scriptExports,\n  render,\n  staticRenderFns,\n  functionalTemplate,\n  injectStyles,\n  scopeId,\n  moduleIdentifier, /* server only */\n  shadowMode /* vue-cli only */\n) {\n  // Vue.extend constructor export interop\n  var options = typeof scriptExports === 'function'\n    ? scriptExports.options\n    : scriptExports\n\n  // render functions\n  if (render) {\n    options.render = render\n    options.staticRenderFns = staticRenderFns\n    options._compiled = true\n  }\n\n  // functional template\n  if (functionalTemplate) {\n    options.functional = true\n  }\n\n  // scopedId\n  if (scopeId) {\n    options._scopeId = 'data-v-' + scopeId\n  }\n\n  var hook\n  if (moduleIdentifier) { // server build\n    hook = function (context) {\n      // 2.3 injection\n      context =\n        context || // cached call\n        (this.$vnode && this.$vnode.ssrContext) || // stateful\n        (this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext) // functional\n      // 2.2 with runInNewContext: true\n      if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\n        context = __VUE_SSR_CONTEXT__\n      }\n      // inject component styles\n      if (injectStyles) {\n        injectStyles.call(this, context)\n      }\n      // register component module identifier for async chunk inferrence\n      if (context && context._registeredComponents) {\n        context._registeredComponents.add(moduleIdentifier)\n      }\n    }\n    // used by ssr in case component is cached and beforeCreate\n    // never gets called\n    options._ssrRegister = hook\n  } else if (injectStyles) {\n    hook = shadowMode\n      ? function () {\n        injectStyles.call(\n          this,\n          (options.functional ? this.parent : this).$root.$options.shadowRoot\n        )\n      }\n      : injectStyles\n  }\n\n  if (hook) {\n    if (options.functional) {\n      // for template-only hot-reload because in that case the render fn doesn't\n      // go through the normalizer\n      options._injectStyles = hook\n      // register for functional component in vue file\n      var originalRender = options.render\n      options.render = function renderWithStyleInjection (h, context) {\n        hook.call(context)\n        return originalRender(h, context)\n      }\n    } else {\n      // inject component registration as beforeCreate hook\n      var existing = options.beforeCreate\n      options.beforeCreate = existing\n        ? [].concat(existing, hook)\n        : [hook]\n    }\n  }\n\n  return {\n    exports: scriptExports,\n    options: options\n  }\n}\n\n// CONCATENATED MODULE: ./src/components/FlatfileButton.vue\n\n\n\n\n\n/* normalize component */\n\nvar component = normalizeComponent(\n  components_FlatfileButtonvue_type_script_lang_js_,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* harmony default export */ var FlatfileButton = (component.exports);\n// CONCATENATED MODULE: ./src/index.js\n\n// CONCATENATED MODULE: ./node_modules/@vue/cli-service/lib/commands/build/entry-lib-no-default.js\n\n\n\n\n/***/ })\n\n/******/ });\n});\n//# sourceMappingURL=vuejs.umd.js.map"],"sourceRoot":""}